<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head></head><body> <p>A simple HTTP proxy to forward RPC invocations.</p> <hr> <h1>How to start and use it?</h1> <h2>The Dispatcher</h2><a name="dispatcher"></a><h3>Configure</h3> <p>Before to start the Dispatcher, you have to configure it.</p> <p>By default the Dispatcher starts on 80 port. To change the port number, edit the Dispatcher's properties file: <i>xsul.dispatcher.rpc.default.properties</i></p> <h3>Start</h3> <p>To compile the Dispatcher go to the directory: <i>xsul/java</i> and run this command:</p> <p><i>$ ant dispatcher</i></p> <p>To launch the Dispatcher:</p> <p><i> $ cd XSUL_HOME/java<br>   $ java -cp `./classpath.sh` xsul.dispatcher.rpc.DispatcherRPC </i></p> <h2>Sample</h2><p>It is a very simple sample with one Web Service and multi clients which send requests to the Dispatcher and the Dispatcher forwards requests to the Web Service. </p><p>First, you have to configure the Routing Table of the Dispatcher to map virtual path with real Web Services addresses.</p> <p>A <b>virtual path</b> is the path in requests from clients. The Dispatcher maps this path with its routing table to find the real address of the mapped Web Service.</p> <h3>Configure Routing Table</h3> <p>Edit the file:<i> xsul.dispatcher.routingtable.table.properties</i></p> <p>To add a new element: <i>virtual-path=host:port/path</i>. Where virtual-path is the path in clients HTTP requests. The host:port/path is the address of the Web Service which the Dispatcher forwards the requests.</p><p>For this sample the Web Service is running in the same host of the Dispatcher. Just add this line in the routing table:</p><p><em>test=localhost:60002/</em> </p><p>To run the Web Service on a different host just modify the address with the good one. </p><h3>Start the Web Service</h3><p>Start the EchoServer:</p><p><em>$ cd XSUL_HOME/java<br>$ java -cp ` ./classpath.sh` xsul_sample_hello.EchoServer 60002</em></p><h3>Start the Dispatcher </h3><p>To launch the Dispatcher:</p><p><i> $ cd XSUL_HOME/java<br>  $ java -cp `./classpath.sh` xsul.dispatcher.rpc.DispatcherRPC </i></p><p>For more information see the Dispatcher <a href="#dispatcher">section</a>.</p><h3>Start Multi Clients</h3><p>You can start <em>n</em> clients to send requests to the Dispatcher.</p><p>Start clients:</p><p><em>$ cd XSUL_HOME/java<br>  $ java -cp `./classpath.sh` xsul_sample_hello.EchoMultiClients n dispatcher_address</em></p><p>Where <em>n</em> is the number of clients to launch, example:10 or 25.</p><p>Where <em>dispatcher_address</em> is the address of the Dispatcher, example: http://localhost/foo or http://foo.extreme.indiana.edu:2410/foo</p><p>For our local sample:</p><p><em>$ java -cp `./classpath.sh` xsul_sample_hello.EchoMultiClients 10 http://localhost/test</em></p><hr> <address> <a href="mailto:adicosta@cs.indiana.edu">Alexandre di Costanzo</a> </address> <!-- Created: Wed Aug 18 11:00:08 EST 2004 --> <!-- hhmts start --> Last modified: Thu Aug 19 14:31:25 EST 2004<!-- hhmts end --> </body></html>